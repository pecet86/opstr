
ol.Overlay.Popup=function(c){var a=c||{};if(a.autoPan===undefined){a.autoPan=true}if(a.autoPanAnimation===undefined){a.autoPanAnimation={duration:250}}this.container=document.createElement("div");this.container.className="ol-popup";this.closer=document.createElement("a");this.closer.className="ol-popup-closer";this.closer.href="#";this.container.appendChild(this.closer);var b=this;this.closer.addEventListener("click",function(d){b.container.style.display="none";b.closer.blur();d.preventDefault()},false);this.content=document.createElement("div");this.content.className="ol-popup-content";this.container.appendChild(this.content);ol.Overlay.Popup.enableTouchScroll_(this.content);ol.Overlay.call(this,Object.assign(a,{element:this.container}))};ol.inherits(ol.Overlay.Popup,ol.Overlay);ol.Overlay.Popup.prototype.show=function(b,a){if(a instanceof HTMLElement){this.content.innerHTML="";this.content.appendChild(a)}else{this.content.innerHTML=a}this.container.style.display="block";this.content.scrollTop=0;this.setPosition(b);return this};ol.Overlay.Popup.isTouchDevice_=function(){try{document.createEvent("TouchEvent");return true}catch(a){return false}};ol.Overlay.Popup.enableTouchScroll_=function(b){if(ol.Overlay.Popup.isTouchDevice_()){var a=0;b.addEventListener("touchstart",function(c){a=this.scrollTop+c.touches[0].pageY},false);b.addEventListener("touchmove",function(c){this.scrollTop=a-c.touches[0].pageY},false)}};ol.Overlay.Popup.prototype.hide=function(){this.container.style.display="none";return this};ol.Overlay.Popup.prototype.isOpened=function(){return this.container.style.display=="block"};